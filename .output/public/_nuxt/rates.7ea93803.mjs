import{_ as T}from"./Button.5fc0a59e.mjs";import{a as C,_ as $}from"./Testimonial.163f8201.mjs";import{_ as D}from"./Input.867cb974.mjs";import{a as B,M as O,N as M,O as P,P as A,Q as V,R as N,S as I,T as R,W as j,q as z,K as L,p as c,L as i,o as l,b as d,e,i as a,w as n,F as p,r as _,c as S,f as q}from"./entry.dfa1fc6e.mjs";const F={components:{Menu:O,MenuButton:M,MenuItems:P,MenuItem:A,TransitionRoot:V,TransitionChild:N,Dialog:I,DialogPanel:R,DialogTitle:j},async setup(){return z({title:"Avis"}),{testimonials:(await L(async()=>{try{const{data:s}=await c.get("testimonials");return s.testimonials}catch{return[]}},"$HMzgmasNr3")).data}},data:()=>({isOpen:!1,rate:"",star:5}),methods:{async addTestimonial(){try{const t=localStorage.getItem("access_token");await c.post("testimonials",{message:this.rate,star:this.star},{headers:{Authorization:`Bearer ${t}`}})}catch(t){console.log(t)}finally{this.isOpen=!1;const{data:t}=await c.get("testimonials");this.testimonials=t.testimonials}}}},H={class:"pt-48 pb-8"},W=e("h1",{class:"font-extrabold text-5xl text-black dark:text-white text-center"},"Avis des utilisateurs",-1),E=e("div",{class:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm"},null,-1),K={class:"fixed inset-0 overflow-y-auto"},Q={class:"flex min-h-full items-center justify-center p-4 text-center"},U=q(" Mon avis "),G={class:"mt-2"},J=e("p",{class:"text-sm text-gray-500 mt-2"}," Combien d'\xE9toiles souhaites-tu nous attribuer? ",-1),X={class:"flex gap-1 justify-between mt-4 mb-8"},Y=e("p",{class:"text-sm text-gray-500 mt-2"}," Ton avis nous aidera \xE0 am\xE9liorer notre service. ",-1),Z={class:"flex gap-2 items-center mt-4 justify-end"},tt={class:"container mx-auto px-2 pt-16 pb-48"},et={class:"grid lg:grid-cols-2 xl:grid-cols-3 mt-8 gap-8"};function st(t,s,at,f,ot,g){const r=T,m=i("TransitionChild"),h=i("DialogTitle"),v=C,x=D,y=i("DialogPanel"),k=i("Dialog"),w=i("TransitionRoot"),b=$;return l(),d("div",null,[e("header",H,[W,a(r,{text:"Publier mon avis",class:"mx-auto mt-8",color:"yellow",onClick:s[0]||(s[0]=o=>t.isOpen=!t.isOpen)}),a(w,{appear:"",show:t.isOpen,as:"template"},{default:n(()=>[a(k,{as:"div",onClose:s[3]||(s[3]=o=>t.isOpen=!1),class:"relative z-10"},{default:n(()=>[a(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[E]),_:1}),e("div",K,[e("div",Q,[a(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[a(y,{class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-dark-900 p-6 text-left align-middle shadow-xl transition-all"},{default:n(()=>[a(h,{as:"h3",class:"text-lg font-medium leading-6 text-gray-900 dark:text-white"},{default:n(()=>[U]),_:1}),e("div",G,[J,e("div",X,[(l(),d(p,null,_(5,o=>a(v,{class:"w-12 cursor-pointer",color:t.star>=o?"#BB900D":"#9ca3af",key:o,onClick:u=>t.star=o},null,8,["color","onClick"])),64))]),a(x,{class:"mt-4",placeholder:`Pourquoi ${t.star} \xE9toiles?`,modelValue:t.rate,"onUpdate:modelValue":s[1]||(s[1]=o=>t.rate=o)},null,8,["placeholder","modelValue"]),Y]),e("div",Z,[a(r,{color:"transparent",text:"Annuler",onClick:s[2]||(s[2]=o=>t.isOpen=!1)}),a(r,{color:"yellow",text:"Publier mon avis",onClick:g.addTestimonial},null,8,["onClick"])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])]),e("section",tt,[e("div",et,[(l(!0),d(p,null,_(f.testimonials,(o,u)=>(l(),S(b,{key:u,rate:o},null,8,["rate"]))),128))])])])}const ct=B(F,[["render",st]]);export{ct as default};
