import{_ as T}from"./Button.0db7404f.mjs";import{a as C,_ as D}from"./Testimonial.3c66c606.mjs";import{_ as $}from"./Input.bcacf967.mjs";import{a as B,M as O,N as M,O as P,P as A,Q as V,R as N,S as I,T as R,W as S,q as j,K as z,p as m,L as l,o as n,b as r,e as s,i as o,w as i,F as u,r as p,t as L,c as q,f as F}from"./entry.5edd905e.mjs";const H={components:{Menu:O,MenuButton:M,MenuItems:P,MenuItem:A,TransitionRoot:V,TransitionChild:N,Dialog:I,DialogPanel:R,DialogTitle:S},async setup(){return j({title:"Avis"}),{testimonials:(await z(async()=>{try{const{data:e}=await m.get("testimonials");return e.testimonials}catch{return[]}},"$HMzgmasNr3")).data}},data:()=>({isOpen:!1,rate:"",star:5,errors:[]}),methods:{async addTestimonial(){try{const t=localStorage.getItem("access_token");await m.post("testimonials",{message:this.rate,star:this.star},{headers:{Authorization:`Bearer ${t}`}}),this.isOpen=!1;const{data:e}=await m.get("testimonials");this.testimonials=e.testimonials}catch(t){this.errors=t.response.data.errors.map(e=>e.message)}}}},W={class:"pt-48 pb-8"},E=s("h1",{class:"font-extrabold text-5xl text-black dark:text-white text-center"},"Avis des utilisateurs",-1),K=s("div",{class:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm"},null,-1),Q={class:"fixed inset-0 overflow-y-auto"},U={class:"flex min-h-full items-center justify-center p-4 text-center"},G=F(" Mon avis "),J={class:"mt-2"},X=s("p",{class:"text-sm text-gray-500 mt-2"}," Combien d'\xE9toiles souhaites-tu nous attribuer? ",-1),Y={class:"flex gap-1 justify-between mt-4 mb-8"},Z=s("p",{class:"text-sm text-gray-500 mt-2"}," Ton avis nous aidera \xE0 am\xE9liorer notre service. ",-1),tt={class:"flex gap-2 items-center mt-4 justify-end"},et={class:"container mx-auto px-2 pt-16 pb-48"},st={class:"grid lg:grid-cols-2 xl:grid-cols-3 mt-8 gap-8"};function at(t,e,ot,f,nt,g){const d=T,_=l("TransitionChild"),h=l("DialogTitle"),v=C,x=$,y=l("DialogPanel"),k=l("Dialog"),w=l("TransitionRoot"),b=D;return n(),r("div",null,[s("header",W,[E,o(d,{text:"Publier mon avis",class:"mx-auto mt-8",color:"yellow",onClick:e[0]||(e[0]=a=>t.isOpen=!t.isOpen)}),o(w,{appear:"",show:t.isOpen,as:"template"},{default:i(()=>[o(k,{as:"div",onClose:e[3]||(e[3]=a=>t.isOpen=!1),class:"relative z-10"},{default:i(()=>[o(_,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>[K]),_:1}),s("div",Q,[s("div",U,[o(_,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:i(()=>[o(y,{class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-dark-900 p-6 text-left align-middle shadow-xl transition-all"},{default:i(()=>[o(h,{as:"h3",class:"text-lg font-medium leading-6 text-gray-900 dark:text-white"},{default:i(()=>[G]),_:1}),s("div",J,[X,s("div",Y,[(n(),r(u,null,p(5,a=>o(v,{class:"w-12 cursor-pointer",color:t.star>=a?"#BB900D":"#9ca3af",key:a,onClick:c=>t.star=a},null,8,["color","onClick"])),64))]),o(x,{class:"mt-4",placeholder:`Pourquoi ${t.star} \xE9toiles?`,modelValue:t.rate,"onUpdate:modelValue":e[1]||(e[1]=a=>t.rate=a)},null,8,["placeholder","modelValue"]),(n(!0),r(u,null,p(t.errors,(a,c)=>(n(),r("div",{class:"text-red-400 text-sm mt-1 mb-4",key:c},[s("i",null,L(a),1)]))),128)),Z]),s("div",tt,[o(d,{color:"transparent",text:"Annuler",onClick:e[2]||(e[2]=a=>t.isOpen=!1)}),o(d,{color:"yellow",text:"Publier mon avis",onClick:g.addTestimonial},null,8,["onClick"])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])]),s("section",et,[s("div",st,[(n(!0),r(u,null,p(f.testimonials,(a,c)=>(n(),q(b,{key:c,rate:a},null,8,["rate"]))),128))])])])}const dt=B(H,[["render",at]]);export{dt as default};
