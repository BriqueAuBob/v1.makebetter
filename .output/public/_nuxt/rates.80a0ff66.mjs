import{a as T,f as C,m as D,p as $,v as B,b as A,e as O,A as M,L as P,W as V,H as j,X as z,i as m,r,o as n,j as c,k as s,q as o,x as i,F as u,s as p,B as I,t as N,c as H,y as L,z as R}from"./entry.751c4a66.mjs";import{a as S,_ as q}from"./Testimonial.8c4673fa.mjs";const F={components:{Menu:C,MenuButton:D,MenuItems:$,MenuItem:B,TransitionRoot:A,TransitionChild:O,Dialog:M,DialogPanel:P,DialogTitle:V},async setup(){return j({title:"Avis"}),{testimonials:(await z(async()=>{try{const{data:e}=await m.get("testimonials");return e.testimonials}catch{return[]}},"$HMzgmasNr3")).data}},data:()=>({isOpen:!1,rate:"",star:5,errors:[]}),methods:{async addTestimonial(){try{const t=localStorage.getItem("access_token");await m.post("testimonials",{message:this.rate,star:this.star},{headers:{Authorization:`Bearer ${t}`}}),this.isOpen=!1;const{data:e}=await m.get("testimonials");this.testimonials=e.testimonials}catch(t){this.errors=t.response.data.errors.map(e=>e.message)}}}},W={class:"pt-48 pb-8"},E=s("h1",{class:"font-extrabold text-5xl text-black dark:text-white text-center"},"Avis des utilisateurs",-1),U=s("div",{class:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm"},null,-1),X={class:"fixed inset-0 overflow-y-auto"},G={class:"flex min-h-full items-center justify-center p-4 text-center"},J=L(" Mon avis "),K={class:"mt-2"},Q=s("p",{class:"text-sm text-gray-500 mt-2"}," Combien d'\xE9toiles souhaites-tu nous attribuer? ",-1),Y={class:"flex gap-1 justify-between mt-4 mb-8"},Z=s("p",{class:"text-sm text-gray-500 mt-2"}," Ton avis nous aidera \xE0 am\xE9liorer notre service. ",-1),tt={class:"flex gap-2 items-center mt-4 justify-end"},et={class:"container mx-auto px-2 pt-16 pb-48"},st={class:"grid lg:grid-cols-2 xl:grid-cols-3 mt-8 gap-8"};function at(t,e,ot,f,nt,g){const d=I,_=r("TransitionChild"),h=r("DialogTitle"),v=S,x=R,y=r("DialogPanel"),k=r("Dialog"),b=r("TransitionRoot"),w=q;return n(),c("div",null,[s("header",W,[E,o(d,{text:"Publier mon avis",class:"mx-auto mt-8",color:"yellow",onClick:e[0]||(e[0]=a=>t.isOpen=!t.isOpen)}),o(b,{appear:"",show:t.isOpen,as:"template"},{default:i(()=>[o(k,{as:"div",onClose:e[3]||(e[3]=a=>t.isOpen=!1),class:"relative z-10"},{default:i(()=>[o(_,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>[U]),_:1}),s("div",X,[s("div",G,[o(_,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:i(()=>[o(y,{class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-dark-900 p-6 text-left align-middle shadow-xl transition-all"},{default:i(()=>[o(h,{as:"h3",class:"text-lg font-medium leading-6 text-gray-900 dark:text-white"},{default:i(()=>[J]),_:1}),s("div",K,[Q,s("div",Y,[(n(),c(u,null,p(5,a=>o(v,{class:"w-12 cursor-pointer",color:t.star>=a?"#BB900D":"#9ca3af",key:a,onClick:l=>t.star=a},null,8,["color","onClick"])),64))]),o(x,{class:"mt-4",placeholder:`Pourquoi ${t.star} \xE9toiles?`,modelValue:t.rate,"onUpdate:modelValue":e[1]||(e[1]=a=>t.rate=a)},null,8,["placeholder","modelValue"]),(n(!0),c(u,null,p(t.errors,(a,l)=>(n(),c("div",{class:"text-red-400 text-sm mt-1 mb-4",key:l},[s("i",null,N(a),1)]))),128)),Z]),s("div",tt,[o(d,{color:"transparent",text:"Annuler",onClick:e[2]||(e[2]=a=>t.isOpen=!1)}),o(d,{color:"yellow",text:"Publier mon avis",onClick:g.addTestimonial},null,8,["onClick"])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])]),s("section",et,[s("div",st,[(n(!0),c(u,null,p(f.testimonials,(a,l)=>(n(),H(w,{key:l,rate:a,"data-aos":"fade-up","data-aos-delay":200+l*100},null,8,["rate","data-aos-delay"]))),128))])])])}const rt=T(F,[["render",at]]);export{rt as default};
