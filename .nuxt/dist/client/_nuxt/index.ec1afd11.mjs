import{a as E,f as j,m as R,p as q,v as F,b as L,e as P,A as U,L as W,W as G,h as z,i as M,r as u,o as r,j as m,k as e,l as O,t as d,q as o,F as Z,s as H,c as J,w as K,x as a,y as c,z as Q,B as X,C as Y}from"./entry.7ba4f493.mjs";const ee={components:{Menu:j,MenuButton:R,MenuItems:q,MenuItem:F,TransitionRoot:L,TransitionChild:P,Dialog:U,DialogPanel:W,DialogTitle:G},data:()=>({user:null,logs:[],length:4,deleteAccountModal:!1,confirmText:""}),async setup(){},computed:{logsFilter(){return this.logs.splice(0,this.length)}},async mounted(){var t;this.user=await z().getUser;try{const{data:s}=await M.get("auth/user/logs",{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}});this.logs=s.usages}catch(s){console.log(s)}if(!((t=this.user)!=null&&t.id))return window.location="https://umaestro.fr"},methods:{async deleteAccount(){var t,s;if(this.confirmText===((t=this.user)==null?void 0:t.username)+"#"+((s=this.user)==null?void 0:s.discriminator))try{await M.delete("auth/user",{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}),this.logout()}catch(p){console.log(p)}},logout(){return z().logout(),window.location="https://umaestro.fr/"},hideEmail(t){if(!t)return"";const[s,p]=t.split("@");return`${s[0]}${new Array(s.length).join("*")}@${p}`}}},te={class:"relative flex flex-col items-center justify-center overflow-y-hidden bg-dark-900 pt-48 pb-32"},se=["src"],oe={class:"z-10 mx-auto mt-4 text-center text-2xl font-semibold text-white"},le={class:"z-10 mx-auto mt-1 text-center text-xl font-medium text-gray-400"},ae={class:"container mx-auto py-32 px-4 lg:px-16 xl:px-32"},ne=e("div",{class:"mb-2 text-lg font-semibold"},"Mes informations",-1),ie=e("p",{class:"mb-4 text-gray-500"}," Ici, vous pouvez voir toutes les informations que nous sauvegardons \xE0 propos de votre profil. ",-1),re={class:"grid gap-4 italic md:grid-cols-2"},de=e("span",{class:"ml-2"},"ID",-1),ce=e("span",{class:"ml-2"},"ID Discord",-1),ue=e("span",{class:"ml-2"},"Email",-1),me=e("div",null,null,-1),pe=e("span",{class:"ml-2"},"Nom d'utilisateur",-1),he=e("span",{class:"ml-2"},"Tag Discord",-1),_e=e("div",{class:"mb-2 mt-12 text-lg font-semibold"}," Vos utilisations des outils ",-1),ge=e("p",{class:"mb-4 text-gray-500"},"Vois ce que t'as fait sur notre site!",-1),fe={key:0},ve=c(" Utilisation de "),be={class:"font-medium"},xe={class:"italic"},ye=c(" le "),ke={class:"font-medium"},we={key:1},Ce=e("div",{class:"mt-4 mb-2 font-medium text-gray-400"}," Tu n'as jamais utilis\xE9 nos outils... ",-1),De=e("div",{class:"mb-2 mt-12 mb-4 text-lg font-semibold"},"D\xE9connexion",-1),Te=e("div",{class:"mb-2 mt-12 text-lg font-semibold"},[c(" Suppression du compte"),e("span",{class:"ml-2 rounded-full bg-red-500 px-2 py-1 text-xs font-semibold"},"ZONE DE DANGER")],-1),Ae=e("p",{class:"mb-4 text-gray-500"}," Attention! Cette action est irreversible, elle entrainera la destruction permanente de vos donn\xE9es dans notre base de donn\xE9es. ",-1),Se=e("div",{class:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm"},null,-1),ze={class:"fixed inset-0 overflow-y-auto"},Me={class:"flex min-h-full items-center justify-center p-4 text-center"},Ve=c(" \xCAtes-vous sur de vouloir supprimer votre compte? "),$e={class:"mt-2"},Be=e("p",{class:"mt-2 text-sm text-gray-500"}," Cette action est irreversible, il sera impossible de retrouver vos donn\xE9es apr\xE8s avoir supprimer votre compte. ",-1),Ie={class:"mt-4 text-sm text-gray-500"},Ne=c(" Si vous \xEAtes certain de votre choix, veuillez recopier "),Ee={class:"italic text-white"},je=c(" et cliquer sur le bouton pour supprimer votre compte. "),Re={class:"mt-4 flex items-center justify-end gap-2"};function qe(t,s,p,Fe,Le,h){var f,v,b,x,y,k,w,C,D;const n=Q,i=X,V=Y,g=u("TransitionChild"),$=u("DialogTitle"),B=u("DialogPanel"),I=u("Dialog"),N=u("TransitionRoot");return r(),m("div",null,[e("header",te,[e("div",{class:"absolute top-0 left-0 z-0 h-full w-full bg-dark-950 bg-cover bg-center opacity-75 blur-xl",style:O(`background-image: url(${(f=t.user)==null?void 0:f.avatar});`)},null,4),e("img",{class:"z-10 w-48 rounded-full border-8 border-white",src:(v=t.user)==null?void 0:v.avatar},null,8,se),e("div",oe,d((b=t.user)==null?void 0:b.username),1),e("div",le," #"+d((x=t.user)==null?void 0:x.discriminator),1)]),e("section",ae,[ne,ie,e("div",re,[e("div",null,[de,o(n,{placeholder:(y=t.user)==null?void 0:y.id.toString(),disabled:!0},null,8,["placeholder"])]),e("div",null,[ce,o(n,{placeholder:(k=t.user)==null?void 0:k.discord_id.toString(),disabled:!0},null,8,["placeholder"])]),e("div",null,[ue,o(n,{placeholder:h.hideEmail((w=t.user)==null?void 0:w.email),disabled:!0},null,8,["placeholder"])]),me,e("div",null,[pe,o(n,{placeholder:(C=t.user)==null?void 0:C.username,disabled:!0},null,8,["placeholder"])]),e("div",null,[he,o(n,{placeholder:"#"+((D=t.user)==null?void 0:D.discriminator),disabled:!0},null,8,["placeholder"])])]),_e,ge,t.logs.length>0?(r(),m("div",fe,[(r(!0),m(Z,null,H(h.logsFilter,(l,_)=>(r(),m("div",{key:_,class:"mt-2 flex items-center gap-1 rounded-lg bg-white p-4 shadow-sm dark:bg-dark-900"},[e("div",null,[ve,e("span",be,d(l.tool==="discord_embed"?"Cr\xE9ateur d'embeds":"Cr\xE9ateur de badges"),1)]),e("div",xe,[ye,e("span",ke,d(new Date(l.created_at).toLocaleString("fr-FR")),1)])]))),128)),t.length<t.logs.length?(r(),J(i,{key:0,onClick:s[0]||(s[0]=l=>t.length+=4),text:"Voir plus",class:"mr-auto mt-4",color:"primary"})):K("",!0)])):(r(),m("div",we,[Ce,o(V,{to:"/#tools"},{default:a(()=>[o(i,{text:"Trouver un outil",small:!0,color:"secondary"})]),_:1})])),De,o(i,{onClick:h.logout,small:!0,color:"red",text:"Se d\xE9connecter"},null,8,["onClick"]),Te,Ae,o(i,{onClick:s[1]||(s[1]=l=>t.deleteAccountModal=!0),small:!0,color:"red",text:"Supprimer mon compte"}),o(N,{appear:"",show:t.deleteAccountModal,as:"template"},{default:a(()=>[o(I,{as:"div",onClose:s[4]||(s[4]=l=>t.deleteAccountModal=!1),class:"relative z-10"},{default:a(()=>[o(g,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>[Se]),_:1}),e("div",ze,[e("div",Me,[o(g,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:a(()=>[o(B,{class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all dark:bg-dark-900"},{default:a(()=>{var l,_,T,A;return[o($,{as:"h3",class:"text-lg font-medium leading-6 text-gray-900 dark:text-white"},{default:a(()=>[Ve]),_:1}),e("div",$e,[Be,e("p",Ie,[Ne,e("span",Ee,d((l=t.user)==null?void 0:l.username)+"#"+d((_=t.user)==null?void 0:_.discriminator),1),je]),o(n,{modelValue:t.confirmText,"onUpdate:modelValue":s[2]||(s[2]=S=>t.confirmText=S),class:"mt-4 mb-8",classes:"focus:border-red-500",placeholder:"Recopier le texte indiqu\xE9..."},null,8,["modelValue"])]),e("div",Re,[o(i,{color:"transparent",text:"Annuler",onClick:s[3]||(s[3]=S=>t.deleteAccountModal=!1)}),o(i,{text:"Supprimer mon compte",color:t.confirmText!==((T=t.user)==null?void 0:T.username)+"#"+((A=t.user)==null?void 0:A.discriminator)?"disabled":"red",onClick:h.deleteAccount},null,8,["color","onClick"])])]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])])}const Ue=E(ee,[["render",qe]]);export{Ue as default};
